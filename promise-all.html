<!DOCTYPE html>
<html>

<head>
  <title>Page Title</title>
  <link rel="stylesheet" type="text/css" media="screen" href="index.css" />
  <script defer src="index.js"></script>
</head>

<body>
  <div class="container">
    <button data-page="index.html">Main menu</button>
  </div>
  <script>
    /* globals console */
    /* jshint esversion: 6*/
    (function () {
      "use strict";
      var myPromiseAll = (promises) => {
        return new Promise((resolve, reject) => {
          const responses = new Array(promises.length);
          let count = 0;
          for (let i = 0; i < promises.length; i++) {
            promises[i].then((response) => {
              console.log(i);
              responses[i] = response;
              count++;
              if (count === promises.length) {
                resolve(responses);
              }
            }).catch((error) => {
              reject(error);
            });
          };
        });
      };

      let p1 = new Promise((resolve, reject) =>
        setTimeout(resolve, 5000, "p1.5000")
      );
      let p2 = new Promise((resolve, reject) =>
        setTimeout(resolve, 1000, "p2.1000")
      );
      let p3 = new Promise((resolve, reject) =>
        setTimeout(resolve, 3000, "p3.3000")
      );

      myPromiseAll([p1, p2, p3]).then((values) => console.log(values));
    })();
  </script>
</body>

</html>